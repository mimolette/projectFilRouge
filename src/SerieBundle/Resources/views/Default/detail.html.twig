{% extends "SerieBundle::layout.html.twig" %}

{% block body %}


  <!-- le block <div> qui contient tout le contenu de la page -->
    <div id="main">
      <!-- le block <section> qui contient tout les informations de la
           page courante -->
      <section>
        <h1 class="wf_no-link-align">{{ serie[0].name }}</h1>

        <!-- le block qui contient les meilleures séries suivies
               du moment -->
        <div id="accueil_top_serie">
          <!-- chaque série est matérialisée dans un block <div>
               de class top_serie -->
          <div class="top_serie">
            <!-- le block <DIV> qui contient la vignette de la série -->
            <div class="top_serie_block">
              <!-- l'ensemble image de la serie plus nom -->
              <figure>
                  <img class="wf_img" src="{{ serie[0].poster }}" alt="{{ serie[0].name }}"/>
              </figure>
              <!-- la parie latérale -->
              <div class="top_serie_lat">
                  <!-- l'évaluation de la série -->
                  <div class="top_serie_lat_evaluation">
                      <img class="wf_img" src="{{ asset('images/etoile.jpg') }}" alt="evaluation"/>
                      <img class="wf_img" src="{{ asset('images/etoile.jpg') }}" alt="evaluation"/>
                      <img class="wf_img" src="{{ asset('images/etoile.jpg') }}" alt="evaluation"/>
                      <img class="wf_img" src="{{ asset('images/etoile.jpg') }}" alt="evaluation"/>
                      <img class="wf_img" src="{{ asset('images/etoile.jpg') }}" alt="evaluation"/>
                  </div>
              </div>
          </div>

            <!-- liste de toute les saisons -->
            {% for season in serie[0].seasons %}
              <ul>
                <li>{{ season.name }}</li>
                <li>
                  {% for episode in season.episodes %}
                    <li>
                      <a href="{{ path("episode_detail", {"idEpisode":episode.id, "idSerie":serie[0].id}) }}">{{ episode.name }}</a>
                    </li>
                  {% endfor %}
                </li>
              </ul>
            {% endfor %}

          <!-- liste de tout les commentaires -->
            {% for comment in comments %}
              <div class="top_comment_block">
                <!-- l'avatar et le pseudo de l'auteur du commentaire -->
                <figure>
                  <figcaption>
                    <!-- ::info:: pseudo des amis -->
                    <a class="wf_link" href="#">{{ comment[0].user.username }}</a>
                    <!-- ::info:: statut des amis -->
                    <div class="wf_no-link">user.statut</div>
                  </figcaption>
                  <img class="wf_img" src="{{ asset('images/wf_img.jpg') }}" alt="avatar"/>
                </figure>
                <!-- la partie qui regroupe information et le message en lui même -->
                <div class="top_comment_message">
                  <!-- l'entête de ce block, qui regroupe la date et les likes du commentaire -->
                  <header>
                    <div class="wf_no-link top_comment_date">
                      {{ comment[0].postDate|date() }}
                    </div>
                    <div class="top_comment_like">
                      <div>
                        <img class="wf_img" src="{{ asset('images/like.jpg') }}" alt="pour"/>
                        <span class="wf_no-link">{{ comment.nbLike }}</span>
                      </div>
                      <div>
                        <img class="wf_img" src="{{ asset('images/not_like.jpg') }}" alt="contre"/>
                        <span class="wf_no-link">{{ comment.nbDislike }}</span>
                      </div>
                    </div>
                  </header>
                  <!-- le corps du message -->
                  <div class="top_comment_corps wf_no-link">
                    {{ comment[0].message }}
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
		</div>
	</section>
	</div>


{% endblock %}